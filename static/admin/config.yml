# static/admin/config.yml
local_backend: true

backend:
  name: git-gateway
  branch: main # Will be overridden for preview deployments

media_folder: "static/img/uploads"
public_folder: "/img/uploads"

i18n:
  structure: multiple_folders
  locales:
    - ru
    - en
  default_locale: ru

collections:
  - name: books
    i18n: true
    label: Books
    label_singular: Book
    folder: "content/books/{{i18n.locale}}"
    create: true
    slug: "{{params.slug}}"
    path: "{{i18n.locale}}/{{slug}}"
    nested:
      depth: 1
      summary: "{{title}}"
    fields:
      - label: Page Title
        name: title
        widget: string
        i18n: true
        hint: "This is the title displayed on the website"
      - label: Draft
        name: draft
        widget: boolean
        default: false
        i18n: true
      - label: Params
        name: params
        widget: object
        i18n: true
        fields:
          - label: Book Title
            name: title
            widget: string
            hint: "This is the title of the book"
            required: true
          - label: Cover
            name: cover
            widget: image
            required: false
          - label: Cover Alt text
            name: coverAlt
            widget: string
            required: false
          - label: Tags
            name: tags
            widget: list
            required: false
          - label: Authors
            name: authors
            widget: list
            required: true
            allow_add: true
            field:
              label: Author
              name: author
              widget: string
          - label: Translators
            name: translators
            widget: list
            required: false
          - label: Languages
            name: languages
            widget: list
            required: false
          - label: Page count
            name: page_count
            widget: number
            required: false
          - label: First Publication Year
            name: publication_year
            widget: string
            pattern: ["^[0-9]{4}$", "Please enter a valid year in YYYY format"]
            hint: "Please enter a valid year in YYYY format"
            required: false
          - label: Goodreads Link
            name: link
            widget: string
            required: false
          - label: Buy Link
            name: buy_link
            widget: list
            required: false
          - label: Series
            name: series
            widget: string
            required: false
          - label: ISBN
            name: isbn
            widget: string
            required: false
          - label: Additional ISBNs
            name: additional_isbns
            widget: list
            required: false
          - label: Where to get
            name: where_to_get
            widget: list
            required: false
          - label: Russian Edition
            name: russian_translation_status
            widget: select
            default: unknown
            options:
              - unknown
              - might_exist
              - unlikely_to_exist
              - does_not_exist
              - exists
            required: false
          - label: Russian Audioversion
            name: russian_audioversion
            widget: boolean
            default: false
            required: false
          - label: Publishers
            name: publishers
            widget: list
            required: false
          - label: Description
            name: description
            widget: markdown
            required: false
          - label: Short Description
            name: short_description
            widget: markdown
            required: false
