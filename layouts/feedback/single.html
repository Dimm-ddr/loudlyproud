{{ define "main" }}
{{ $feedbackUrl := "https://forms.gle/YHhojq3Ts2LsDF6G8" }}
<!-- JavaScript redirection -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    if (navigator.onLine) {
      window.location.replace("{{ $feedbackUrl }}");
    }
  });
</script>

<!-- Fallback content for when JavaScript is disabled or offline -->
<div class="min-h-screen bg-background dark:bg-background-dark">
  <div class="container mx-auto px-4 py-16">
    <div class="max-w-2xl mx-auto bg-secondary dark:bg-secondary-dark rounded-lg shadow-lg p-8">
      <h1 class="text-3xl font-black text-primary dark:text-primary-dark mb-6">
        {{ i18n "feedback_offline_title" }}
      </h1>
      <p class="text-lg text-text dark:text-text-dark mb-8">
        {{ i18n "feedback_offline_description" }}
      </p>
      <div class="relative bg-tertiary dark:bg-tertiary-dark p-4 rounded-md border border-text/20 dark:border-text-dark/20">
        <code class="block text-primary dark:text-primary-dark font-mono break-all pr-12">
          {{ $feedbackUrl }}
        </code>
        <button
          onclick="navigator.clipboard.writeText('{{ $feedbackUrl }}')"
          class="absolute right-2 top-1/2 -translate-y-1/2 p-2 text-text dark:text-text-dark hover:text-accent1 dark:hover:text-accent1 transition-colors"
          title="{{ i18n "copy_to_clipboard" }}"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
          </svg>
        </button>
      </div>
      {{ if eq .Site.Language.Lang "ru" }}
        {{ partial "feedback/ru.html" . }}
      {{ else if eq .Site.Language.Lang "en" }}
        {{ partial "feedback/en.html" . }}
      {{ else if eq .Site.Language.Lang "fa" }}
        {{ partial "feedback/fa.html" . }}
      {{ else if eq .Site.Language.Lang "ku" }}
        {{ partial "feedback/ku.html" . }}
      {{ end }}
    </div>
  </div>
</div>
{{ end }}