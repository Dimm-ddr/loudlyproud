<!-- Absolute minimum tag component -->
{{ $tag := .tag | string }}
{{ $normalizedTag := $tag | lower | urlize }}
{{ $colorKey := index site.Data.tags.colors.tag_colors $normalizedTag | default "fallback" }}

{{ $tagStyles := dict
    "aubergine" "bg-purple-900 text-white hover:bg-purple-800 dark:bg-purple-400 dark:text-black dark:hover:bg-purple-300"
    "burgundy" "bg-red-800 text-white hover:bg-red-700 dark:bg-red-400 dark:text-black dark:hover:bg-red-300"
    "deep-blue" "bg-blue-900 text-white hover:bg-blue-800 dark:bg-blue-400 dark:text-black dark:hover:bg-blue-300"
    "forest" "bg-green-800 text-white hover:bg-green-700 dark:bg-green-400 dark:text-black dark:hover:bg-green-300"
    "marine" "bg-cyan-800 text-white hover:bg-cyan-700 dark:bg-cyan-400 dark:text-black dark:hover:bg-cyan-300"
    "plum" "bg-fuchsia-800 text-white hover:bg-fuchsia-700 dark:bg-fuchsia-400 dark:text-black dark:hover:bg-fuchsia-300"
    "rust" "bg-orange-700 text-white hover:bg-orange-600 dark:bg-orange-400 dark:text-black dark:hover:bg-orange-300"
    "slate" "bg-slate-700 text-white hover:bg-slate-600 dark:bg-slate-400 dark:text-black dark:hover:bg-slate-300"
    "fallback" "bg-gray-400 text-black hover:bg-gray-300 dark:bg-gray-600 dark:text-white dark:hover:bg-gray-500"
}}

{{ $cleanTag := partial "helpers/clean-url" $tag }}
{{ $tagURL := path.Join "tags" $cleanTag | relLangURL }}

<a
    href="{{ $tagURL }}"
    class="inline-block px-3 py-1 rounded-full text-sm font-bold transition-colors duration-200
           {{ index $tagStyles $colorKey }}"
>
    {{ $tag }}
</a>